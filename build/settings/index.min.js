import{key,app_name}from"../src/config.min.js";import{handleDropFile,downloadFile}from"../src/file.min.js";import{initStorage,getRawStorage,putRawStorage}from"../src/storage.min.js";window.onload=()=>{document.title=app_name+" Settings",initStorage(key,(()=>{}))};const handleFile=({data:e,name:t,type:n,size:a})=>{e=new TextDecoder("utf-8").decode(e),putRawStorage(e)};document.getElementById("drop-area").addEventListener("dragover",(function(e){e.preventDefault()})),document.getElementById("drop-area").addEventListener("dragleave",(function(){})),document.getElementById("drop-area").addEventListener("drop",(async function(e){e.preventDefault(),handleDropFile(e,handleFile)})),document.getElementById("download-button").addEventListener("click",(async()=>{const e=await getRawStorage();downloadFile({data:e,name:`${app_name}.conf.aes`,type:"application/octet-stream",size:e.length})}));